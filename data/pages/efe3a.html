<!DOCTYPE html>
<html>
<body>

	<svg viewBox="0 0 200 50" version="1.1"
		xmlns="http://www.w3.org/2000/svg" class="svg"></svg>

	<script type="text/javascript">
		var smoothing = 0.2;
		var points = [ [ 5, 10 ], [ 10, 40 ], [ 40, 30 ], [ 60, 5 ],
				[ 90, 45 ], [ 120, 10 ], [ 150, 45 ], [ 200, 10 ] ];

		var line = function line(pointA, pointB) {
			var lengthX = pointB[0] - pointA[0];
			var lengthY = pointB[1] - pointA[1];
			return {
				length : Math.sqrt(Math.pow(lengthX, 2) + Math.pow(lengthY, 2)),
				angle : Math.atan2(lengthY, lengthX)
			};
		};

		var controlPoint = function controlPoint(current, previous, next,
				reverse) {
			var p = previous || current;
			var n = next || current;
			var o = line(p, n);
			var angle = o.angle + (reverse ? Math.PI : 0);
			var length = o.length * smoothing;
			var x = current[0] + Math.cos(angle) * length;
			var y = current[1] + Math.sin(angle) * length;
			return [ x, y ];
		};

		var bezierCommand = function bezierCommand(point, i, a) {
			var cps = controlPoint(a[i - 1], a[i - 2], point);
			var cpe = controlPoint(point, a[i - 1], a[i + 1], true);
			return 'C ' + cps[0] + ',' + cps[1] + ' ' + cpe[0] + ',' + cpe[1]
					+ ' ' + point[0] + ',' + point[1];
		};

		var svgPath = function svgPath(points, command) {
			var d = points.reduce(function(acc, point, i, a) {
				return i === 0 ? 'M ' + point[0] + ',' + point[1] : acc + ' '
						+ command(point, i, a);
			}, '');
			return '<path d="' + d + '" fill="none" stroke="grey" />';
		};

		var svg = document.querySelector('.svg');
		svg.innerHTML = svgPath(points, bezierCommand);
	</script>

</body>
</html>
